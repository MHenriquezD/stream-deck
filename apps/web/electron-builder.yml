appId: com.streamdeck.app
productName: Stream Deck

directories:
  output: dist

asar: true

win:
  target:
    - nsis
    - portable
  icon: icon.ico

nsis:
  oneClick: false
  createDesktopShortcut: true
  createStartMenuShortcut: true
  shortcutName: Stream Deck
  installerIcon: icon.ico
  uninstallerIcon: icon.ico

portable:
  artifactName: ${productName}-${version}-portable.exe

files:
  # Frontend build
  - dist/**/*

  # Electron
  - electron-main.mjs
  - preload.cjs
  - package.json
  - public/**/*

extraResources:
  # Backend NestJS compilado
  - from: ../server/dist
    to: server/dist

  # Node_modules m√≠nimos del backend
  - from: ../server/node_modules
    to: server/node_modules

  - from: ../server/package.json
    to: server/package.json